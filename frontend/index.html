<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VibeFixer</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        background: #0f0f1a;
        color: #f5f5f5;
        font-family: monospace;
        overflow-y: auto;
      }
      .page {
        min-height: 100%;
        display: flex;
        flex-direction: column;
      }
      #vibefixer-canvas {
        display: block;
        border: 0;
        background: #1e1e2f;
      }
      .logo {
        max-width: 1024px;
        margin: 16px auto 8px;
        text-align: center;
        font-size: 42px;
        letter-spacing: 4px;
        color: #f5f5f5;
        text-transform: uppercase;
        text-shadow:
          2px 2px 0 #0a0a14,
          4px 4px 0 #2f2f44,
          0 0 12px rgba(255, 255, 255, 0.2);
      }
      .logo span {
        display: inline-block;
        padding: 6px 14px;
        border: 3px solid #5fd1ff;
        background: linear-gradient(180deg, #1d2b64 0%, #1c1c2d 100%);
        box-shadow: inset 0 0 0 2px #0a0a14;
      }
      .controls {
        max-width: 1024px;
        margin: 12px auto 0;
        text-align: center;
        font-size: 14px;
        color: #d7d7df;
        padding: 10px 14px;
        background: rgba(12, 12, 24, 0.7);
        border: 2px solid #2b4b6f;
        box-shadow: inset 0 0 0 2px #0a0a14;
        letter-spacing: 0.5px;
      }
      .controls strong {
        color: #5fd1ff;
        text-transform: uppercase;
        letter-spacing: 2px;
        margin-right: 6px;
      }
      .language-selector {
        max-width: 1024px;
        margin: 8px auto 0;
        display: flex;
        justify-content: center;
        gap: 8px;
        font-size: 14px;
        color: #d7d7df;
      }
      .language-selector label {
        letter-spacing: 1px;
      }
      .language-selector select {
        background: #101425;
        color: #f5f5f5;
        border: 1px solid #2b4b6f;
        padding: 2px 6px;
        font-family: monospace;
      }
      .intro-story {
        max-width: 505px;
        margin: 20px auto 0;
        padding: 16px 18px;
        background: rgba(12, 12, 24, 0.7);
        border: 2px solid #2b4b6f;
        box-shadow: inset 0 0 0 2px #0a0a14;
        font-size: 14px;
        line-height: 1.6;
        color: #dbe5ff;
      }
      .intro-story h3 {
        margin: 0 0 8px;
        font-size: 16px;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: #5fd1ff;
      }
      #game-shell {
        display: flex;
        justify-content: center;
        gap: 16px;
        margin: 16px auto 0;
        max-width: 1280px;
        align-items: flex-start;
      }
      #side-panel {
        width: 260px;
        height: 683px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      #event-log,
      #po-status {
        background: rgba(12, 12, 24, 0.7);
        border: 2px solid #2b4b6f;
        box-shadow: inset 0 0 0 2px #0a0a14;
        padding: 12px;
        flex: 1;
      }
      #event-log {
        max-height: 50%;
        overflow: hidden;
      }
      #event-log h3,
      #po-status h3 {
        margin: 0 0 8px;
        font-size: 14px;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: #5fd1ff;
      }
      #po-status {
        display: flex;
        flex-direction: column;
      }
      #po-status img {
        max-width: 100%;
        max-height: 100%;
        display: block;
        margin: 0 auto;
        image-rendering: pixelated;
      }
      #event-log ul {
        list-style: none;
        padding: 0;
        margin: 0;
        font-size: 12px;
        line-height: 1.4;
        color: #d7e2ff;
      }
      #event-log li {
        margin-bottom: 8px;
      }
      #game-wrap {
        width: 1024px;
      }
      .cast, .credits {
        max-width: 1280px;
        margin: 24px auto 0;
        padding: 0 12px 24px;
      }
      .cast h3, .credits h3 {
        margin-bottom: 12px;
        font-size: 16px;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: #5fd1ff;
      }
      .cast-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
      }
      .cast-card {
        background: rgba(12, 12, 24, 0.7);
        border: 2px solid #2b4b6f;
        padding: 12px;
      }
      .cast-card img {
        display: block;
        width: 96px;
        height: 96px;
        image-rendering: pixelated;
        margin-bottom: 8px;
      }
      .cast-card h4 {
        margin: 0 0 4px;
        font-size: 14px;
      }
      .cast-card p {
        margin: 0;
        font-size: 12px;
        color: #c9d4f0;
      }
      .credits ul {
        list-style: none;
        padding: 0;
        margin: 0;
        font-size: 12px;
        line-height: 1.5;
        color: #c9d4f0;
      }
    </style>
  </head>
  <body>
    <div class="page">
      <div class="logo"><span>Vibe Fixer</span></div>
      <div id="game-shell">
        <aside id="side-panel">
          <div id="event-log">
            <h3 id="game-events-title">Game Events</h3>
            <ul id="event-log-list"></ul>
          </div>
          <div id="po-status">
            <h3 id="po-status-title">PO Status</h3>
            <img id="po-status-image" alt="Product Owner mood" />
          </div>
        </aside>
        <div id="game-wrap"></div>
      </div>
      <div class="controls">
        <strong id="controls-label">Controls:</strong>
        <span id="controls-text">← Move left, → Move right, ↑ Jump, Space Action (Pick up / Drop), M Mute</span>
      </div>
      <div class="language-selector">
        <label id="language-label" for="language-select">Language</label>
        <select id="language-select">
          <option value="en">English</option>
          <option value="sv">Swedish</option>
        </select>
      </div>
      <section class="intro-story">
        <h3 id="story-title">Story</h3>
        <p id="story-text">
          The Vibe Coders have seized the City Hall’s top floor, raining unchecked code into the basement.
          You are the Vibe Fixer — sprint fast, review faster, and keep the code moving before the timer ends.
          If the backlog piles up, the customers’ FOMO Demon wakes and the sprint turns grim.
          Clear blockers to keep the Product Owner calm, but beware Imp Ediment, who teleports in to stack new obstacles.
          Smash a blocker from below to break it, or vault over it if you care more about speed than the PO’s blood pressure.
        </p>
      </section>
      <section class="cast">
        <h3 id="cast-title">Cast</h3>
        <div class="cast-grid">
          <div class="cast-card">
            <img id="cast-fixer-img" src="/assets/kenney/Sprites/Characters/Double/character_green_idle.png" alt="The Fixer" />
            <h4 id="cast-fixer-name">The Fixer</h4>
            <p id="cast-fixer-bio">Municipality hero, fast on the keyboard and faster on the cleanup.</p>
          </div>
          <div class="cast-card">
            <img id="cast-coder-img" src="/assets/kenney/Sprites/Enemies/Default/barnacle_attack_a.png" alt="Vibe Coder" />
            <h4 id="cast-coder-name">Vibe Coder</h4>
            <p id="cast-coder-bio">Top-floor chaos agent dropping unchecked code at the worst times.</p>
          </div>
          <div class="cast-card">
            <img id="cast-imp-img" src="/src/assets/imp_ediment.png" alt="Imp Ediment" />
            <h4 id="cast-imp-name">Imp Ediment</h4>
            <p id="cast-imp-bio">Teleporting mischief-maker who stacks blockers in your way.</p>
          </div>
          <div class="cast-card">
            <img id="cast-fomo-img" src="/src/assets/fomo_demon.png" alt="FOMO Demon" />
            <h4 id="cast-fomo-name">FOMO Demon</h4>
            <p id="cast-fomo-bio">Feeds on lingering code. Defeat it by keeping the ground clean.</p>
          </div>
          <div class="cast-card">
            <img id="cast-po-img" src="/src/assets/po_happy.png" alt="Product Owner" />
            <h4 id="cast-po-name">Product Owner</h4>
            <p id="cast-po-bio">Guardian of scope and sanity, happiest when blockers hit zero.</p>
          </div>
        </div>
      </section>
      <section class="credits">
        <h3 id="credits-title">Credits</h3>
        <ul>
          <li id="credits-kenney">Kenney New Platformer Pack (CC0) — sprites for characters and tiles.</li>
          <li id="credits-audio">OpenGameArt CC0 audio — chiptune music and sound effects.</li>
          <li id="credits-bg">kommun_bg.png background — CC0 by Magnus.</li>
          <li id="credits-authors">Co-authors: Magnus &amp; Codex.</li>
        </ul>
      </section>
    </div>
    <script type="module" src="/src/app.js"></script>
  </body>
</html>
